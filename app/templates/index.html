{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<div class="hero min-h-[60vh] bg-base-100 rounded-lg shadow-xl mb-8">
    <div class="hero-content text-center">
        <div class="max-w-md">
            <h1 class="text-5xl font-bold mb-4">Hello World</h1>
            <p class="text-lg mb-6">Welcome to the US Disease Tracker Dashboard</p>
            <p class="text-sm text-base-content/70 mb-8">
                This dashboard provides interactive data visualizations for disease surveillance across the United States.
            </p>

            <!-- Stats Overview -->
            <div class="stats stats-vertical lg:stats-horizontal shadow"
                 x-data="{ stats: {} }"
                 x-init="fetch('/api/stats', {
                     headers: {
                         'Authorization': 'Bearer ' + (localStorage.getItem('api_key') || '')
                     }
                 })
                 .then(r => r.json())
                 .then(data => stats = data)
                 .catch(err => console.error('Failed to fetch stats:', err))">

                <div class="stat">
                    <div class="stat-title">Total Diseases</div>
                    <div class="stat-value text-primary" x-text="stats.total_diseases || '-'">-</div>
                    <div class="stat-desc">Being tracked</div>
                </div>

                <div class="stat">
                    <div class="stat-title">Total Cases</div>
                    <div class="stat-value text-secondary" x-text="stats.total_cases || '-'">-</div>
                    <div class="stat-desc">Across all data</div>
                </div>

                <div class="stat">
                    <div class="stat-title">States</div>
                    <div class="stat-value" x-text="stats.total_states || '-'">-</div>
                    <div class="stat-desc">With data</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Disease Cards -->
{% if diseases %}
<div class="mb-8">
    <h2 class="text-3xl font-bold mb-6">Tracked Diseases</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for disease in diseases %}
        <div class="card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow">
            <div class="card-body">
                <h3 class="card-title capitalize">{{ disease }}</h3>
                <p class="text-sm text-base-content/70">
                    View detailed statistics and visualizations for {{ disease }}.
                </p>
                <div class="card-actions justify-end mt-4">
                    <a href="/disease/{{ disease }}" class="btn btn-primary btn-sm">
                        View Details
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% else %}
<div class="alert alert-info">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <span>No disease data loaded. Please check the data directory.</span>
</div>
{% endif %}

<!-- Placeholder for Future Visualizations -->
<div class="mt-12">
    <h2 class="text-3xl font-bold mb-6">Data Visualizations</h2>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Placeholder 1: Temporal Trends -->
        <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
                <h3 class="card-title">Temporal Trends</h3>
                <div class="h-64 flex items-center justify-center bg-base-200 rounded">
                    <p class="text-base-content/50">Coming soon: Time series visualization</p>
                </div>
            </div>
        </div>

        <!-- Placeholder 2: Geographic Distribution -->
        <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
                <h3 class="card-title">Geographic Distribution</h3>
                <div class="h-64 flex items-center justify-center bg-base-200 rounded">
                    <p class="text-base-content/50">Coming soon: Map visualization</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
